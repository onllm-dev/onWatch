# onWatch

> Ultra-lightweight, open-source CLI tool that tracks Anthropic (Claude Code), Synthetic, and Z.ai API quota usage in real time.

onWatch runs as a background daemon (~28 MB RAM), polls provider quota endpoints at configurable intervals, stores historical data in SQLite, and serves a Material Design 3 web dashboard with dark/light mode. Zero telemetry. Single binary. All data stays on your machine.

## Key Features

- Real-time quota monitoring for Anthropic, Synthetic, and Z.ai providers
- Historical usage trends with interactive Chart.js area charts
- Automatic reset cycle detection and per-cycle consumption stats
- Usage rate calculations, burn rate, and projections before next reset
- Multi-provider unified dashboard with provider tabs (Anthropic, Synthetic, Z.ai, All)
- Dark and light mode with Material Design 3 glassmorphism UI
- Session-based auth with SHA-256 password hashing
- Single binary with all assets embedded â€” no external dependencies at runtime
- Cross-platform: macOS (ARM64, AMD64), Linux (AMD64, ARM64), Windows (AMD64)

## Supported Providers

- **Anthropic (Claude Code)**: Tracks five_hour, seven_day, seven_day_sonnet, monthly_limit quotas via OAuth usage API. Auto-detects tokens from Claude Code credentials (macOS Keychain, Linux keyring, ~/.claude/.credentials.json).
- **Synthetic**: Tracks subscription, search hourly, and tool call discount quotas via /v2/quotas endpoint.
- **Z.ai**: Tracks token limits and time limits via /monitor/usage/quota/limit endpoint.

## Quick Start

One-line install (macOS and Linux):
```
curl -fsSL https://raw.githubusercontent.com/onllm-dev/onwatch/main/install.sh | bash
```

Or download a binary from the releases page and run:
```
onwatch --debug      # foreground mode
onwatch              # background daemon
onwatch status       # check if running
onwatch stop         # stop the instance
```

Dashboard at http://localhost:9211 (default port).

## Tech Stack

- Language: Go 1.25+
- Database: SQLite (modernc.org/sqlite, pure Go, no CGO)
- HTTP: net/http stdlib
- Templates: html/template + embed.FS
- Charts: Chart.js 4.x via CDN
- Design: Material Design 3 with dark/light mode

## Performance

- Idle RAM: ~28 MB (all 3 providers polling in parallel)
- Load RAM: ~29 MB under concurrent dashboard requests
- API response time: 0.28ms average
- Dashboard response time: 0.69ms average

## Links

- Website: https://onwatch.onllm.dev
- GitHub: https://github.com/onllm-dev/onWatch
- License: GPL-3.0
- Powered by: https://onllm.dev
